{% extends 'GGshopping.html' %}
{% load static %}

{% block title %}
<title>è¯çµ¡æˆ‘å€‘ï½œGG SHOP</title>
{% endblock title %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/contact.css' %}">
{% endblock head %}

{% block content %}

<div class="container mt-5">

  <!-- è¯çµ¡è³‡è¨Š -->
  <section class="contact-info">
    <div class="card">
      <div class="icon">ğŸ“</div>
      <h3>PHONE NUMBER</h3>
      <p>034855368</p>
    </div>

    <div class="card">
      <div class="icon">âœ‰ï¸</div>
      <h3>EMAIL ADDRESS</h3>
      <p>service@gmail.com</p>
    </div>

    <div class="card">
      <div class="icon">ğŸ“</div>
      <h3>HEAD OFFICE</h3>
      <p>326 æ¡ƒåœ’å¸‚æ¥Šæ¢…å€ç§€æ‰è·¯ 851 è™Ÿ</p>
    </div>
  </section>

  <!-- è¯çµ¡è¡¨å–® -->
  <section class="contact-form mt-5">
    <h2>è¯çµ¡æˆ‘å€‘</h2>

    <form id="contactForm">
      <label>è«‹å•æ€éº¼ç¨±å‘¼æ‚¨ï¼Ÿ</label>
      <input type="text" name="name" required>

      <div class="row">
        <input type="email" name="email" placeholder="Email" required>
        <input type="text" name="phone" placeholder="é›»è©±">
      </div>

      <input type="text" name="company" placeholder="å…¬å¸å–®ä½åç¨±">

      <textarea name="message" placeholder="ç•™è¨€å…§å®¹" required></textarea>

      <button type="submit">é€å‡ºè¨Šæ¯</button>
    </form>

    <p id="result" class="mt-3"></p>
  </section>

</div>

{% endblock content %}

{% block extra_js %}
<script>
document.getElementById("contactForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const url = "https://script.google.com/macros/s/AKfycbz_3IAKK_qu62IrjNwJgQjCq1p-baaYJCRsCNF-xu_01CZTfcF4SESbUOff6zbjoV2E/exec";
  const formData = new FormData(this);

  fetch(url, {
    method: "POST",
    body: formData
  })
    .then(res => res.text())
    .then(text => {
      if (text === "SUCCESS") {
        document.getElementById("result").innerHTML =
          "âœ… å·²æˆåŠŸå¯„å‡ºï¼Œæˆ‘å€‘å°‡ç›¡å¿«èˆ‡æ‚¨è¯ç¹«ï¼";
        document.getElementById("contactForm").reset();
      } else {
        document.getElementById("result").innerHTML =
          "âŒ å¯„ä¿¡å¤±æ•—ï¼šå¾Œç«¯æœªå›å‚³ SUCCESS";
      }
    })
    .catch(() => {
      document.getElementById("result").innerHTML =
        "âŒ å¯„ä¿¡å¤±æ•—ï¼šè«‹ç¨å¾Œå†è©¦~";
    });
});
</script>
{% endblock extra_js %}
